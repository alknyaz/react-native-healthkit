{"version":3,"names":["_ensureUnit","_interopRequireDefault","require","_nativeTypes","obj","__esModule","default","queryStatisticsCollectionForQuantity","identifier","options","from","to","unit","updateCallback","actualUnit","ensureUnit","toDate","Date","withUpdates","Boolean","rawResponse","Native","toISOString","error","results","response","map","record","startDate","endDate","_default","exports"],"sources":["queryStatisticsCollectionForQuantity.ts"],"sourcesContent":["import ensureUnit from './ensureUnit'\nimport Native from '../native-types'\n\nimport type { HKQuantityTypeIdentifier, HKStatisticsOptions, UnitForIdentifier } from '../native-types'\n\nasync function queryStatisticsCollectionForQuantity<TIdentifier extends HKQuantityTypeIdentifier, TUnit extends UnitForIdentifier<TIdentifier> = UnitForIdentifier<TIdentifier>>(\n  identifier: TIdentifier,\n  options: readonly HKStatisticsOptions[],\n  from: Date,\n  to?: Date,\n  unit?: TUnit,\n  updateCallback?: (\n    error: string,\n    results: [\n      Awaited<ReturnType<typeof Native.queryStatisticsCollectionForQuantity>>[number],\n      Awaited<ReturnType<typeof Native.queryStatisticsCollectionForQuantity>>\n    ]\n  ) => void\n) {\n  const actualUnit = await ensureUnit(identifier, unit)\n  const toDate = to || new Date()\n  const withUpdates = Boolean(updateCallback)\n\n  const rawResponse = await Native.queryStatisticsCollectionForQuantity(\n    identifier,\n    actualUnit,\n    from.toISOString(),\n    toDate.toISOString(),\n    options,\n    withUpdates,\n    updateCallback ?? ((error, results) => {})\n  )\n\n  const response = rawResponse.map((record) => {\n    record.startDate = new Date(record.startDate)\n    record.endDate = new Date(record.endDate)\n    return record\n  })\n\n  return response\n}\n\nexport default queryStatisticsCollectionForQuantity\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAIpC,eAAeG,oCAAoCA,CACjDC,UAAuB,EACvBC,OAAuC,EACvCC,IAAU,EACVC,EAAS,EACTC,IAAY,EACZC,cAMS,EACT;EACA,MAAMC,UAAU,GAAG,MAAM,IAAAC,mBAAU,EAACP,UAAU,EAAEI,IAAI,CAAC;EACrD,MAAMI,MAAM,GAAGL,EAAE,IAAI,IAAIM,IAAI,CAAC,CAAC;EAC/B,MAAMC,WAAW,GAAGC,OAAO,CAACN,cAAc,CAAC;EAE3C,MAAMO,WAAW,GAAG,MAAMC,oBAAM,CAACd,oCAAoC,CACnEC,UAAU,EACVM,UAAU,EACVJ,IAAI,CAACY,WAAW,CAAC,CAAC,EAClBN,MAAM,CAACM,WAAW,CAAC,CAAC,EACpBb,OAAO,EACPS,WAAW,EACXL,cAAc,KAAK,CAACU,KAAK,EAAEC,OAAO,KAAK,CAAC,CAAC,CAC3C,CAAC;EAED,MAAMC,QAAQ,GAAGL,WAAW,CAACM,GAAG,CAAEC,MAAM,IAAK;IAC3CA,MAAM,CAACC,SAAS,GAAG,IAAIX,IAAI,CAACU,MAAM,CAACC,SAAS,CAAC;IAC7CD,MAAM,CAACE,OAAO,GAAG,IAAIZ,IAAI,CAACU,MAAM,CAACE,OAAO,CAAC;IACzC,OAAOF,MAAM;EACf,CAAC,CAAC;EAEF,OAAOF,QAAQ;AACjB;AAAC,IAAAK,QAAA,GAEcvB,oCAAoC;AAAAwB,OAAA,CAAAzB,OAAA,GAAAwB,QAAA"}