{"version":3,"names":["_ensureUnit","_interopRequireDefault","require","_prepareOptions","_nativeTypes","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","queryActivitySummaryForQuantity","options","energyUnit","ensureUnit","HKQuantityTypeIdentifier","activeEnergyBurned","timeUnit","appleMoveTime","console","log","JSON","stringify","Native","getPreferredUnits","dietaryEnergyConsumed","timeInDaylight","undefined","opts","prepareOptions","result","from","to","map","record","startDate","Date","_default","exports"],"sources":["queryActivitySummaryForQuantity.ts"],"sourcesContent":["import ensureUnit from './ensureUnit'\nimport prepareOptions from './prepareOptions'\nimport Native from '../native-types'\n\nimport {\n  HKQuantityTypeIdentifier, UnitOfEnergy, UnitOfTime,\n} from '../native-types'\nimport type { GenericQueryOptions, QueryActivitySummaryForQuantityRaw } from '../types'\n\nexport type QueryActivitySummaryForQuantityFn = <\n  TEnergyUnit extends UnitOfEnergy,\n  TTimeUnit extends UnitOfTime\n>(\n  options: Omit<GenericQueryOptions, 'anchor' | 'ascending' | 'limit'> & {\n    readonly energyUnit?: TEnergyUnit,\n    readonly timeUnit?: TTimeUnit\n  }\n) => Promise<QueryActivitySummaryForQuantityRaw<TEnergyUnit, TTimeUnit>>;\n\nconst queryActivitySummaryForQuantity: QueryActivitySummaryForQuantityFn = async (\n  options,\n) => {\n  const energyUnit = await ensureUnit(HKQuantityTypeIdentifier.activeEnergyBurned, options.energyUnit)\n  const timeUnit = await ensureUnit(HKQuantityTypeIdentifier.appleMoveTime, options.timeUnit)\n  console.log(\"units:\", energyUnit, timeUnit)\n  console.log(\"preffered units:\", JSON.stringify(\n    await Native.getPreferredUnits([HKQuantityTypeIdentifier.dietaryEnergyConsumed, HKQuantityTypeIdentifier.timeInDaylight]),\n    undefined,\n    2\n  ))\n\n  const opts = prepareOptions(options)\n\n  const result = await Native.queryActivitySummaryForQuantity(\n    energyUnit,\n    timeUnit,\n    opts.from,\n    opts.to\n  )\n\n  return result.map((record) => {\n    record.startDate = new Date(record.startDate)\n    return record\n  })\n}\n\nexport default queryActivitySummaryForQuantity\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,YAAA,GAAAC,uBAAA,CAAAH,OAAA;AAAoC,SAAAI,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAF,wBAAAM,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAAA,SAAAhB,uBAAAU,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAiBpC,MAAMiB,+BAAkE,GAAG,MACzEC,OAAO,IACJ;EACH,MAAMC,UAAU,GAAG,MAAM,IAAAC,mBAAU,EAACC,qCAAwB,CAACC,kBAAkB,EAAEJ,OAAO,CAACC,UAAU,CAAC;EACpG,MAAMI,QAAQ,GAAG,MAAM,IAAAH,mBAAU,EAACC,qCAAwB,CAACG,aAAa,EAAEN,OAAO,CAACK,QAAQ,CAAC;EAC3FE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEP,UAAU,EAAEI,QAAQ,CAAC;EAC3CE,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEC,IAAI,CAACC,SAAS,CAC5C,MAAMC,oBAAM,CAACC,iBAAiB,CAAC,CAACT,qCAAwB,CAACU,qBAAqB,EAAEV,qCAAwB,CAACW,cAAc,CAAC,CAAC,EACzHC,SAAS,EACT,CACF,CAAC,CAAC;EAEF,MAAMC,IAAI,GAAG,IAAAC,uBAAc,EAACjB,OAAO,CAAC;EAEpC,MAAMkB,MAAM,GAAG,MAAMP,oBAAM,CAACZ,+BAA+B,CACzDE,UAAU,EACVI,QAAQ,EACRW,IAAI,CAACG,IAAI,EACTH,IAAI,CAACI,EACP,CAAC;EAED,OAAOF,MAAM,CAACG,GAAG,CAAEC,MAAM,IAAK;IAC5BA,MAAM,CAACC,SAAS,GAAG,IAAIC,IAAI,CAACF,MAAM,CAACC,SAAS,CAAC;IAC7C,OAAOD,MAAM;EACf,CAAC,CAAC;AACJ,CAAC;AAAA,IAAAG,QAAA,GAEc1B,+BAA+B;AAAA2B,OAAA,CAAA1C,OAAA,GAAAyC,QAAA"}