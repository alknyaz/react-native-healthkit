{"version":3,"names":["_ensureMetadata","_interopRequireDefault","require","_nativeTypes","obj","__esModule","default","saveWorkoutSample","typeIdentifier","quantities","_start","options","start","toISOString","end","Date","Native","map","s","metadata","ensureMetadata","_default","exports"],"sources":["saveWorkoutSample.ts"],"sourcesContent":["import ensureMetadata from './ensureMetadata'\nimport Native from '../native-types'\n\nimport type { HKWorkoutActivityType, HKWorkoutMetadata } from '../native-types'\nimport type { HKQuantitySampleForSaving } from '../types'\n\nasync function saveWorkoutSample<TIdentifier extends HKWorkoutActivityType>(\n  typeIdentifier: TIdentifier,\n  quantities: readonly HKQuantitySampleForSaving[],\n  _start: Date,\n  options?: {\n    readonly end?: Date;\n    readonly metadata?: HKWorkoutMetadata;\n  },\n) {\n  const start = _start.toISOString()\n  const end = (options?.end || new Date()).toISOString()\n\n  return Native.saveWorkoutSample(\n    typeIdentifier,\n    quantities.map(((s) => ({ ...s, metadata: ensureMetadata(s.metadata) }))),\n    start,\n    end,\n    ensureMetadata(options?.metadata),\n  )\n}\n\nexport default saveWorkoutSample\n"],"mappings":";;;;;;AAAA,IAAAA,eAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAKpC,eAAeG,iBAAiBA,CAC9BC,cAA2B,EAC3BC,UAAgD,EAChDC,MAAY,EACZC,OAGC,EACD;EACA,MAAMC,KAAK,GAAGF,MAAM,CAACG,WAAW,CAAC,CAAC;EAClC,MAAMC,GAAG,GAAG,CAAC,CAAAH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,GAAG,KAAI,IAAIC,IAAI,CAAC,CAAC,EAAEF,WAAW,CAAC,CAAC;EAEtD,OAAOG,oBAAM,CAACT,iBAAiB,CAC7BC,cAAc,EACdC,UAAU,CAACQ,GAAG,CAAGC,CAAC,KAAM;IAAE,GAAGA,CAAC;IAAEC,QAAQ,EAAE,IAAAC,uBAAc,EAACF,CAAC,CAACC,QAAQ;EAAE,CAAC,CAAE,CAAC,EACzEP,KAAK,EACLE,GAAG,EACH,IAAAM,uBAAc,EAACT,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,QAAQ,CAClC,CAAC;AACH;AAAC,IAAAE,QAAA,GAEcd,iBAAiB;AAAAe,OAAA,CAAAhB,OAAA,GAAAe,QAAA"}