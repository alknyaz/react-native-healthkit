{"version":3,"names":["ensureUnit","prepareOptions","Native","HKQuantityTypeIdentifier","UnitOfEnergy","UnitOfTime","queryActivitySummaryForQuantity","options","energyUnit","activeEnergyBurned","Joules","timeUnit","appleMoveTime","Seconds","opts","result","from","to","map","record","startDate","Date"],"sources":["queryActivitySummaryForQuantity.ts"],"sourcesContent":["import ensureUnit from './ensureUnit'\nimport prepareOptions from './prepareOptions'\nimport Native, { HKUnitMetric, HKUnits } from '../native-types'\n\nimport {\n  HKQuantityTypeIdentifier, UnitOfEnergy, UnitOfTime,\n} from '../native-types'\nimport type { GenericQueryOptions, QueryActivitySummaryForQuantityRaw } from '../types'\n\nexport type QueryActivitySummaryForQuantityFn = <\n  TEnergyUnit extends UnitOfEnergy,\n  TTimeUnit extends UnitOfTime\n>(\n  options: Omit<GenericQueryOptions, 'anchor' | 'ascending' | 'limit'> & {\n    readonly energyUnit?: TEnergyUnit,\n    readonly timeUnit?: TTimeUnit\n  }\n) => Promise<QueryActivitySummaryForQuantityRaw<TEnergyUnit, TTimeUnit>>;\n\nconst queryActivitySummaryForQuantity: QueryActivitySummaryForQuantityFn = async (\n  options,\n) => {\n  const energyUnit = await ensureUnit(HKQuantityTypeIdentifier.activeEnergyBurned, options.energyUnit)\n    ?? UnitOfEnergy.Joules\n  const timeUnit = await ensureUnit(HKQuantityTypeIdentifier.appleMoveTime, options.timeUnit)\n    ?? UnitOfTime.Seconds\n\n  const opts = prepareOptions(options)\n\n  const result = await Native.queryActivitySummaryForQuantity(\n    energyUnit,\n    timeUnit,\n    opts.from,\n    opts.to\n  )\n\n  return result.map((record) => {\n    record.startDate = new Date(record.startDate)\n    return record\n  })\n}\n\nexport default queryActivitySummaryForQuantity\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,cAAc;AACrC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,MAAM,MAAiC,iBAAiB;AAE/D,SACEC,wBAAwB,EAAEC,YAAY,EAAEC,UAAU,QAC7C,iBAAiB;AAaxB,MAAMC,+BAAkE,GAAG,MACzEC,OAAO,IACJ;EACH,MAAMC,UAAU,GAAG,OAAMR,UAAU,CAACG,wBAAwB,CAACM,kBAAkB,EAAEF,OAAO,CAACC,UAAU,CAAC,KAC/FJ,YAAY,CAACM,MAAM;EACxB,MAAMC,QAAQ,GAAG,OAAMX,UAAU,CAACG,wBAAwB,CAACS,aAAa,EAAEL,OAAO,CAACI,QAAQ,CAAC,KACtFN,UAAU,CAACQ,OAAO;EAEvB,MAAMC,IAAI,GAAGb,cAAc,CAACM,OAAO,CAAC;EAEpC,MAAMQ,MAAM,GAAG,MAAMb,MAAM,CAACI,+BAA+B,CACzDE,UAAU,EACVG,QAAQ,EACRG,IAAI,CAACE,IAAI,EACTF,IAAI,CAACG,EACP,CAAC;EAED,OAAOF,MAAM,CAACG,GAAG,CAAEC,MAAM,IAAK;IAC5BA,MAAM,CAACC,SAAS,GAAG,IAAIC,IAAI,CAACF,MAAM,CAACC,SAAS,CAAC;IAC7C,OAAOD,MAAM;EACf,CAAC,CAAC;AACJ,CAAC;AAED,eAAeb,+BAA+B"}